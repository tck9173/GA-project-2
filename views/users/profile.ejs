<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <link rel="stylesheet" href="/css/app.css">
    </head>
    <body>
        <header>
            <h1>Welcome <%=user.name%> </h1>
        </header>
        
        <div id="profile_wrapper">

            <div id="user_info">
                <h2>Your Information</h2>
                <br>
                <form action="/users/profile/<%=user.id%>?_method=PUT" method="POST">
                    Name: <input type="text" name="name" value='<%=user.name%>'/></br>
                    Username: <input type="text" name="username" value='<%=user.username%>'/></br>
                    Password: <input type="text" name="password" value='<%=user.password%>'/></br>
                    <input type="submit" name="" value="Save Changes"/>
                </form>
                <form action='/users/profile/<%=user.id%>?_method=DELETE' method='POST'>
                    <input type='submit'  value="DELETE"/>
                </form>
            </div>

            <div id="farm">
                <h2>Your Farm</h2>
                <img src="https://stardewvalleywiki.com/mediawiki/images/3/30/House_%28tier_1%29.png" alt="farm">
                <h4>List of crops</h4>
                <a href="/crops/new/<%=user.id%>">Create New Crop</a>
                <% for (let i=0; i<user.Crops.length; i++) { %>
                    <li>
                        <a href='/crops/<%=user.Crops[i].id%>'><%=user.Crops[i].name%></a>
                    </li>
                    </br>
                <% } %>
                
            </div>

            <div id="gifting">
                <form action="/friends/new/<%=user.id%>" method='POST'>
                <h2>Make a friend!</h2>
                
                <label for ='add-friend'>Choose User</label>
                <select name = 'userId2'>
                    <% for (let i=0; i<users.length; i++) { %>
                        <% if (users[i].id != user.id) { %>
                            <option value="<%=users[i].id%>"><%=users[i].name%></option>
                        <% } %>
                    <% } %>
                </select>
                <br>
                
                <label for ='add-friend'>Choose Crop</label>
                <select name = 'crop.id'>
                    <% for (let i=0; i<user.Crops.length; i++) { %>
                            <option value="<%=user.Crops[i].id%>"><%=user.Crops[i].name%></option>
                    <% } %>
                </select>
                <br>

                <input type="submit" name="" value="Add Friend"/>
                </form>
                <h4>List of Friends!</h4>
                <div id = "friends">
                <% for (let i=0; i<user.Friends.length; i++) { %>
                        <a href='/users/profile/<%=user.Friends[i].id%>'><%=user.Friends[i].name%></a>
                <% } %>
                </div>
            </div>
            

        </div>
        <footer>
            <nav>
                <a href="/users/signup">Sign Up</a>
                <a href="/users/login">Log In</a>
                <a href="/crops">Global Crop Page</a>
                <a href="/users">Take me to HomePage</a>
                <a href="/friends">Give Gifts</a>
            </nav>
        </footer>
    </body>
</html>